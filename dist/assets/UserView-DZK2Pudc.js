import{_ as g,P as f,U as h,c as d,w as o,v as p,d as e,t as a,F as N,r as c,h as u,i as v,o as m,p as U,f as S}from"./index-CKEtj62G.js";const b={data(){return{pets:[],editing:!1,editedUser:{username:this.$store.state.user.username,firstName:this.$store.state.user.firstName,lastName:this.$store.state.user.lastName,email:this.$store.state.user.email,password:"0000"}}},created(){f.getPets(this.$store.state.token).then(r=>{this.pets=r.data}).catch(r=>{console.log(r)})},methods:{saveChanges(){h.updateSelf(this.editedUser,this.$store.state.token).then(r=>{this.$store.commit("SET_USER",r.data),this.editing=!this.editing}).catch(r=>{console.log(r)})},logout(){console.log("Logging out"),localStorage.removeItem("token"),this.$store.commit("SET_TOKEN",null),this.$router.push("/login")}},computed:{user(){return this.$store.state.user}}},n=r=>(U("data-v-b966a1bd"),r=r(),S(),r),k={class:"user-view"},_=n(()=>e("p",{class:"pet-list-header"},"Pets:",-1)),C={key:"pet.patientId"},w=n(()=>e("label",{for:"firstName"},"First Name:",-1)),E=n(()=>e("label",{for:"lastName"},"Last Name:",-1)),x=n(()=>e("label",{for:"email"},"Email:",-1));function I(r,t,y,V,s,l){return m(),d("div",k,[o(e("main",null,[e("h1",null,a(l.user.firstName+" "+l.user.lastName),1),e("p",null,a("Username: "+l.user.username),1),e("p",null,a("Email: "+l.user.email),1),_,e("ul",null,[(m(!0),d(N,null,c(s.pets,i=>(m(),d("li",C,a(i.name),1))),128))]),e("button",{onClick:t[0]||(t[0]=i=>s.editing=!s.editing)},"Edit")],512),[[p,!s.editing]]),o(e("form",{action:"",onClick:t[6]||(t[6]=v(()=>{},["prevent"]))},[w,o(e("input",{type:"text",id:"firstName",name:"firstName","onUpdate:modelValue":t[1]||(t[1]=i=>s.editedUser.firstName=i),required:""},null,512),[[u,s.editedUser.firstName]]),E,o(e("input",{type:"text",id:"lastName",name:"lastName","onUpdate:modelValue":t[2]||(t[2]=i=>s.editedUser.lastName=i),required:""},null,512),[[u,s.editedUser.lastName]]),x,o(e("input",{type:"email",id:"email",name:"email","onUpdate:modelValue":t[3]||(t[3]=i=>s.editedUser.email=i),required:""},null,512),[[u,s.editedUser.email]]),e("button",{onClick:t[4]||(t[4]=i=>s.editing=!s.editing)},"Cancel"),e("button",{onClick:t[5]||(t[5]=(...i)=>l.saveChanges&&l.saveChanges(...i))},"Save")],512),[[p,s.editing]]),e("button",{onClick:t[7]||(t[7]=(...i)=>l.logout&&l.logout(...i)),class:"logout"},"Logout")])}const P=g(b,[["render",I],["__scopeId","data-v-b966a1bd"]]);export{P as default};

import{T as k,C as S}from"./Conversation-BOXOmxDH.js";import{R as x,a as D}from"./RxItem-B_bz-p-A.js";import{_ as g,o as i,c as a,F as u,r as h,a as w,n as C,b as v,P as _,T as $,d as e,t as m,w as c,v as d,e as y,p as P,f as R}from"./index-Y2JP5UBy.js";const T={props:{meds:Object,shrink:{type:Boolean,default:!1}},components:{RxItem:x},data(){return{}}},b={class:"rx-list"};function B(t,s,r,l,n,I){const p=v("RxItem");return i(),a("div",b,[(i(!0),a(u,null,h(r.meds,o=>(i(),w(p,{key:o.id,med:o,class:C({shrink:r.shrink})},null,8,["med","class"]))),128))])}const F=g(T,[["render",B],["__scopeId","data-v-d5430ba2"]]),L={data(){return{pet:{},meds:[],tests:[],imgSrc:""}},components:{TestList:k,RxList:F,Conversation:S},computed:{age(){const t=new Date,s=new Date(this.pet.birthday),r=t.getMonth()-s.getMonth();let l=t.getFullYear()-s.getFullYear();return(r<0||r===0&&t.getDate()<s.getDate())&&l--,l}},created(){_.getPet(this.$route.params.id,this.$store.state.token).then(t=>{this.pet=t.data,$.getTests(this.pet.patientId,this.$store.state.token).then(s=>{this.tests=s.data}),D.getMeds(this.pet.patientId,this.$store.state.token).then(s=>{this.meds=s.data}),this.imgSrc=_.imgSource(this.pet.patientId)}).catch(t=>{console.log(t)})},methods:{},mounted(){document.title="Profile | "+this.pet.name}},f=t=>(P("data-v-ca601d1d"),t=t(),R(),t),N={class:"profile"},M={class:"left"},V={class:"pet-info"},Y=["src","alt"],j=f(()=>e("h2",null,"Prescriptions",-1)),z={class:"meds-list"},E={key:"med.prescriptionId"},O=f(()=>e("h2",null,"Tests",-1));function q(t,s,r,l,n,I){const p=v("Conversation");return i(),a("div",N,[e("main",null,[e("nav",M,[e("div",V,[e("img",{src:n.imgSrc,alt:n.pet.name},null,8,Y),e("h1",null,m(n.pet.name),1)]),e("div",{class:"meds",onClick:s[0]||(s[0]=o=>t.$router.push({name:"rx",params:{id:n.pet.patientId}}))},[j,e("ul",z,[(i(!0),a(u,null,h(n.meds.slice(0,2),o=>(i(),a("li",E,m(o.name),1))),128)),c(e("li",null,"...",512),[[d,n.meds.length>3]]),c(e("li",null,"No current medications",512),[[d,n.meds.length<1]])])]),e("div",{class:"tests",onClick:s[1]||(s[1]=o=>t.$router.push({name:"tests",params:{id:this.$route.params.id,testId:this.tests[0].id}}))},[O,e("ul",null,[(i(!0),a(u,null,h(n.tests.slice(0,3),o=>(i(),a("li",null,m(o.name+" | "+new Date(o.timestamp).toLocaleDateString()),1))),256)),c(e("li",null,"...",512),[[d,n.tests.length>4]]),c(e("li",null,"No tests in record",512),[[d,n.tests.length<1]])])])]),y(p,{class:"conversation",patient:!0})])])}const J=g(L,[["render",q],["__scopeId","data-v-ca601d1d"]]);export{J as default};

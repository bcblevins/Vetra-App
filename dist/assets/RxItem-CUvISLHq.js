import{m as l,_ as c,o as m,c as u,d as n,t as a,n as f}from"./index-CTgehGFD.js";const i=l.create({baseURL:"http://localhost:8080"}),p={getMeds(s,t){return i.defaults.headers.common.Authorization=`Bearer ${t}`,i.get(`/patients/${s}/prescriptions`)},getRefillRequests(s,t,e){return i.defaults.headers.common.Authorization=`Bearer ${e}`,i.get(`patients/${s}/prescriptions/${t}/requests`)},sendRefillRequest(s,t,e){return i.defaults.headers.common.Authorization=`Bearer ${e}`,i.post(`patients/${t}/prescriptions/${s}/requests`,{prescriptionId:s,status:"PENDING",requestDate:new Date().toISOString()})}},h={props:["med"],data(){return{}},computed:{sIfNeeded(){return this.med.quantity>1?"s":""}},methods:{sendRefillRequest(){if(this.med.refillPending){console.log("Refill request already pending");return}p.sendRefillRequest(this.med.prescriptionId,this.$route.params.id,this.$store.state.token).then(s=>{this.med.refillPending=s.data.status==="PENDING"}).catch(s=>{console.log(s)})}}},_={class:"main"},R={class:"request-refill"},g={class:"med-details"},q={class:"med-title"},I={class:"med-name"},P={class:"med-quantity"},v={class:"med-refill-quantity"},x={class:"med-instructions"};function y(s,t,e,r,B,d){return m(),u("div",_,[n("div",{class:f({"med-refills":!0,pending:e.med.refillPending}),onClick:t[0]||(t[0]=(...o)=>d.sendRefillRequest&&d.sendRefillRequest(...o))},[n("p",R,a(e.med.refillPending?"Pending":"Refill"),1)],2),n("div",g,[n("div",q,[n("span",I,a(e.med.name),1),n("span",P,a(e.med.quantity+" "+e.med.unit),1),n("span",v,a(e.med.refills+" refills"),1)]),n("p",x,a(e.med.instructions),1)])])}const D=c(h,[["render",y],["__scopeId","data-v-c6d38ea3"]]);export{D as R,p as a};
